<!DOCTYPE html>
<html>
<head>
    <title> Diplomacy </title>
    <meta charset = "UTF-8">
    <meta name = "viewpoint" content = "width=device-width, initial-scale = 1">
<style>
    body {
        font-family: Arial;
        margin: 0;
    }
/*style header with css */
.header{
    padding: 80px;
    text-align: center;
    /*background: #1abc9c;*/
    color: black;
}
/*increase h1 element font size*/
.header h1{
    font-size: 40px;
}
/* navigation bar*/
.navbar one {
    float: left;
    display: block;
    color: blue;
    text-align: center;
    padding: 14px 20px;
    text-decoration: none;
}
.navbar one.right{
    float: right
}
/*change color on hover*/
.navbar one:hover {
    background-color: #edc;
    color: black;
}
/*footer*/
.footer {
    padding: 20px;
    text-align: center;
}
</style>
</head>
<body>
    <div class = "header">
        <h1> Heading 1 test </h1>
        <p> testing p </p>
        </body>
    </div>
    <div class = "header 2">
        <h2> Second Header test </h2>
        <p> testing p2 </p>
    </div>
    <div class = "navbar">
        <one href = "#">Google</one>
        <one href = "#">Link 2</one>
        <one href = "#">Link</one>
        <one href = "#" class = "right">Link</one>
    </div>
    <!-- <button type = "button"></button> -->
    <div><span> Last: update: </span><span id = "time-container"></div>
    <button onclick = "getUsers()">Get user data</button>
    <div id = "result-container"></div>
        <!--
        onclick = "document.getElementById('get pet owners')">
        Click me</button>
    <p id = "demo"></p>
    -->
    <div class = "footer">
        <h2>Huge thank you to Mercy for helping me along the way.</h2>
    </div>
</body>
<script>

// XMLHttpRequest => xhr
var xhr = null;
getXmlHttpRequestObject = function() {
    if (!xhr){
        // Create new XMLHttpRequest objects
        xhr = new XMLHttpRequest();
    }
    return xhr;
};

function dataCallback(){
    //check response is ready or not
    if (xhr.readyState == 4 && xhr.status == 200){
        console.log("user data received");
        getDate();
        dataDiv = document.getElementById("result-container");
        // set current data text
        dataDiv.innerHTML = xhr.responseTextl
    }
}

function getUsers(){
    console.log("Get owners");
    xhr = getXmlHttpRequestObject();
    xhr.onreadystatechange = dataCallback;
    // asynchronous requests
    xhr.open("GET", "http://127.0.0.1/example_json_data", true);
    // send request over network
    xhr.send(null);
}

function getDate(){
    date = new Date().toString();
    document.getElementById("time-container").textContent = date;
}
(function () {
    getDate();
})();
</script>
</html>
